/* * Copyright Â© 2020-2020 wucan * Released under the MIT License. */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self)["e-event-outside-directive"]=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t="undefined"!=typeof window,n="undefined"!=typeof navigator,o=t&&("ontouchstart"in window||n&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"];function i(t,n){var i=function(t){var n="function"==typeof t;if(!n&&"object"!==e(t))throw new Error("v-event-outside: Binding value must be a function or an object");return{handler:n?t:t.handler,middleware:t.middleware||function(e){return e},events:t.events||o,isActive:!(!1===t.isActive)}}(n.value),r=i.events,u=i.handler,d=i.middleware;i.isActive&&(t["__v-event-outside"]=r.map((function(e){return{event:e,handler:function(e){return function(e){var t=e.el,n=e.event,o=e.handler,i=e.middleware,r=n.path||n.composedPath&&n.composedPath(),u=r?r.indexOf(t)<0:!t.contains(n.target);n.target!==t&&u&&i(n)&&o(n)}({event:e,el:t,handler:u,middleware:d})}}})),t["__v-event-outside"].forEach((function(e){var n=e.event,o=e.handler;return setTimeout((function(){t["__v-event-outside"]&&document.documentElement.addEventListener(n,o,!1)}),0)})))}function r(e){(e["__v-event-outside"]||[]).forEach((function(e){var t=e.event,n=e.handler;return document.documentElement.removeEventListener(t,n,!1)})),delete e["__v-event-outside"]}var u=t?{bind:i,update:function(e,t){var n=t.value,o=t.oldValue;JSON.stringify(n)!==JSON.stringify(o)&&(r(e),i(e,{value:n}))},unbind:r}:{};return u.install=function(e){e.directive("click-outside",u)},u}));
