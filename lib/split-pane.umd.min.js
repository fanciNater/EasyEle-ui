/* * Copyright Â© 2019-2019 chenwenbin * Released under the MIT License. */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):(t=t||self)["split-pane"]=e(t.vue)}(this,(function(t){"use strict";var e=(t=t&&t.hasOwnProperty("default")?t.default:t).prototype.$isServer,i=!e&&document.addEventListener?function(t,e,i){t&&e&&i&&t.addEventListener(e,i,!1)}:function(t,e,i){t&&e&&i&&t.attachEvent("on"+e,i)},n=!e&&document.removeEventListener?function(t,e,i){t&&e&&t.removeEventListener(e,i,!1)}:function(t,e,i){t&&e&&t.detachEvent("on"+e,i)};var s=function(t,e,i,n,s,o,r,a,f,u){"boolean"!=typeof r&&(f=a,a=r,r=!1);var h,c="function"==typeof i?i.options:i;if(t&&t.render&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0,s&&(c.functional=!0)),n&&(c._scopeId=n),o?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,f(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=h):e&&(h=r?function(){e.call(this,u(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),h)if(c.functional){var p=c.render;c.render=function(t,e){return h.call(e),p(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,h):[h]}return i}; var o={name:"Trigger",props:{mode:{type:String,default:""}},data:function(){return{prefix:"split-trigger",initOffset:0}},computed:{isVertical:function(){return"vertical"===this.mode},classes:function(){return[this.prefix,this.isVertical?"".concat(this.prefix,"-vertical"):"".concat(this.prefix,"-horizontal")]},barConClasses:function(){return["".concat(this.prefix,"-bar-con"),this.isVertical?"vertical":"horizontal"]}}};var r=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.classes},[e("div",{class:this.barConClasses},this._m(0),0)])};r._withStripped=!0; var a={name:"SplitPane",components:{Trigger:s({render:r,staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return t._l(8,(function(e){return i("i",{key:"trigger-"+e,class:t.prefix+"-bar"})}))}]},void 0,o,void 0,!1,void 0,void 0,void 0)},props:{value:{type:[Number,String],default:.5},mode:{type:String,validator:function(t){return["horizontal","vertical"].includes(t)},default:"horizontal"},min:{type:[Number,String],default:"40px"},max:{type:[Number,String],default:"40px"}},data:function(){return{prefix:"split",offset:0,oldOffset:0,isMoving:!1}},computed:{wrapperClasses:function(){return["".concat(this.prefix,"-wrapper"),this.isMoving?"no-select":""]},isHorizontal:function(){return"horizontal"===this.mode},anotherOffset:function(){return 100-this.offset},valueIsPx:function(){return"string"==typeof this.value},offsetSize:function(){return this.isHorizontal?"offsetWidth":"offsetHeight"},computedMin:function(){return this.getComputedThresholdValue("min")},computedMax:function(){return this.getComputedThresholdValue("max")}},watch:{value:function(){this.setOffset()}},mounted:function(){var t=this;this.$nextTick((function(){t.setOffset()}))},methods:{px2percent:function(t,e){return parseFloat(t)/parseFloat(e)},getComputedThresholdValue:function(t){var e=this.$refs.outerWrapper[this.offsetSize];return this.valueIsPx?"string"==typeof this[t]?this[t]:e*this[t]:"string"==typeof this[t]?this.px2percent(this[t],e):this[t]},getMin:function(t,e){return this.valueIsPx?"".concat(Math.min(parseFloat(t),parseFloat(e)),"px"):Math.min(t,e)},getMax:function(t,e){return this.valueIsPx?"".concat(Math.max(parseFloat(t),parseFloat(e)),"px"):Math.max(t,e)},getAnotherOffset:function(t){return this.valueIsPx?"".concat(this.$refs.outerWrapper[this.offsetSize]-parseFloat(t),"px"):1-t},handleMove:function(t){var e=(this.isHorizontal?t.pageX:t.pageY)-this.initOffset,i=this.$refs.outerWrapper[this.offsetSize],n=this.valueIsPx?"".concat(parseFloat(this.oldOffset)+e,"px"):this.px2percent(i*this.oldOffset+e,i),s=this.getAnotherOffset(n);parseFloat(n)<=parseFloat(this.computedMin)&&(n=this.getMax(n,this.computedMin)),parseFloat(s)<=parseFloat(this.computedMax)&&(n=this.getAnotherOffset(this.getMax(s,this.computedMax))),t.atMin=this.value===this.computedMin,t.atMax=this.valueIsPx?this.getAnotherOffset(this.value)===this.computedMax:this.getAnotherOffset(this.value).toFixed(5)===this.computedMax.toFixed(5),this.$emit("input",n),this.$emit("on-moving",t)},handleUp:function(){this.isMoving=!1,n(document,"mousemove",this.handleMove),n(document,"mouseup",this.handleUp),this.$emit("on-move-end")},handleMousedown:function(t){this.initOffset=this.isHorizontal?t.pageX:t.pageY,this.oldOffset=this.value,this.isMoving=!0,i(document,"mousemove",this.handleMove),i(document,"mouseup",this.handleUp),this.$emit("on-move-start")},setOffset:function(){this.offset=1e4*(this.valueIsPx?this.px2percent(this.value,this.$refs.outerWrapper[this.offsetSize]):this.value)/100}}};var f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"outerWrapper",class:t.wrapperClasses},[t.isHorizontal?i("div",{class:t.prefix+"-horizontal"},[i("div",{class:[t.prefix+"-pane","left-pane"],style:{right:t.anotherOffset+"%"}},[t._t("left")],2),t._v(" "),i("div",{class:t.prefix+"-trigger-con",style:{left:t.offset+"%"},on:{mousedown:t.handleMousedown}},[t._t("trigger",[i("trigger",{attrs:{mode:"vertical"}})])],2),t._v(" "),i("div",{class:[t.prefix+"-pane","right-pane"],style:{left:t.offset+"%"}},[t._t("right")],2)]):i("div",{class:t.prefix+"-vertical"},[i("div",{class:[t.prefix+"-pane","top-pane"],style:{bottom:t.anotherOffset+"%"}},[t._t("top")],2),t._v(" "),i("div",{class:t.prefix+"-trigger-con",style:{top:t.offset+"%"},on:{mousedown:t.handleMousedown}},[t._t("trigger",[i("trigger",{attrs:{mode:"horizontal"}})])],2),t._v(" "),i("div",{class:[t.prefix+"-pane","bottom-pane"],style:{top:t.offset+"%"}},[t._t("bottom")],2)])])};f._withStripped=!0;var u=s({render:f,staticRenderFns:[]},void 0,a,void 0,!1,void 0,void 0,void 0);return u.install=function(t){t.component(u.name,u)},u}));
