/* * Copyright Â© 2019-2019 chenwenbin * Released under the MIT License. */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):(e=e||self)["pop-modal"]=t(e.vue)}(this,(function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(e,t,n){return n<e?e:n>t?t:n};var n=function(e,t,n,i,o,s,r,a,l,d){"boolean"!=typeof r&&(l=a,a=r,r=!1);var c,u="function"==typeof n?n.options:n;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),i&&(u._scopeId=i),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):t&&(c=r?function(){t.call(this,d(this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),c)if(u.functional){var h=u.render;u.render=function(e,t){return c.call(t),h(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return n}; var i={props:{minHeight:{type:Number,default:0},minWidth:{type:Number,default:0}},data:function(){return{clicked:!1,size:{}}},computed:{className:function(){return{"vue-modal-resizer":!0,clicked:this.clicked}}},mounted:function(){this.$el.addEventListener("mousedown",this.start,!1)},methods:{start:function(e){this.clicked=!0,window.addEventListener("mousemove",this.mousemove,!1),window.addEventListener("mouseup",this.stop,!1),e.stopPropagation(),e.preventDefault()},stop:function(){this.clicked=!1,window.removeEventListener("mousemove",this.mousemove,!1),window.removeEventListener("mouseup",this.stop,!1),this.$emit("resize-stop",{element:this.$el.parentElement,size:this.size})},mousemove:function(e){this.resize(e)},resize:function(e){var n=this.$el.parentElement;if(n){var i=e.clientX-n.getBoundingClientRect().left,o=e.clientY-n.getBoundingClientRect().top;i=t(this.minWidth,window.innerWidth,i),o=t(this.minHeight,window.innerHeight,o),this.size={width:i,height:o},n.style.width=i+"px",n.style.height=o+"px",this.$emit("resize",{element:n,size:this.size})}}}};var o=function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this.className})};o._withStripped=!0; var s={name:"PopModal",components:{resizer:n({render:o,staticRenderFns:[]},void 0,i,"data-v-6a3395f9",!1,void 0,void 0,void 0)},props:{title:{type:String,default:"this is title"},width:{type:String,default:"450"},height:{type:String,default:"300"},className:{type:String,default:""},wrapClassName:{type:String,default:"star-pop-modal"},index:{type:Number,default:1}},data:function(){return{modalStatus:2,modalStyle:{position:"absolute",float:"none",left:20*this.index+"px",top:20*this.index+"px",width:this.width+"px",height:this.height+"px"},originStyle:{},visible:!0}},mounted:function(){this.drag(),this.$nextTick((function(){this.setCurrentZindex()}))},methods:{close:function(){this.$emit("close")},setCurrentZindex:function(){for(var e=this.$el.parentNode.querySelectorAll(".modal"),t=0;t<e.length;t++)e[t].style["z-index"]=1;this.$el.querySelector(".modal").style["z-index"]=2},saveOriginSize:function(){var e=this.$el.querySelector(".modal");this.originStyle={left:e.offsetLeft+"px",top:e.offsetTop+"px",width:e.offsetWidth+"px",height:e.offsetHeight+"px"}},min:function(){2===this.modalStatus&&this.saveOriginSize(),this.modalStatus=1,this.modalStyle={position:"static",float:"left",width:"150px"};var e=this.$el.querySelector(".modal-header");e.style.cursor="inherit",e.style.position="static"},max:function(){this.$el.querySelector(".modal");var e,t,n=this.$el.querySelector(".modal-header");if(n.style.cursor="move",n.style.position="absolute",2!==this.modalStatus)return this.modalStyle=this.originStyle,void(this.modalStatus=2);2===this.modalStatus&&this.saveOriginSize(),this.modalStatus=3;var i=document.querySelector("."+this.wrapClassName);if(i){var o=2*this.getStyle(i,"padding").replace(/px/g,"");o||(o=2*this.getStyle(i,"padding-left").replace(/px/g,"")),e=i.clientWidth-o,t=i.clientHeight-o}else e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;this.modalStyle={position:"absolute",float:"none",left:0,top:0,width:e+"px",height:t+"px"}},getStyle:function(e,t){return window.document.currentStyle?e.currentStyle[t]:getComputedStyle(e,!1)[t]},drag:function(){var e=this,t=this.$el.querySelector(".modal-header"),n=this.$el.querySelector(".modal");if(t&&n){t.style.cursor="move";n.currentStyle||window.getComputedStyle(n,null);t.onmousedown=function(t){e.setCurrentZindex();var i=t.clientX,o=t.clientY,s=document.body.clientWidth,r=document.documentElement.clientHeight,a=n.offsetWidth,l=n.offsetHeight,d=n.offsetLeft,c=s-n.offsetLeft-a,u=n.offsetTop,h=r-n.offsetTop-l,f=e.getStyle(n,"left"),m=e.getStyle(n,"top"),p=f,v=m;f.includes("%")?(p=+document.body.clientWidth*(+f.replace(/%/g,"")/100),v=+document.body.clientHeight*(+m.replace(/%/g,"")/100)):(p=+f.replace(/px/g,""),v=+m.replace(/px/g,"")),document.onmousemove=function(e){var t=e.clientX-i,s=e.clientY-o;-t>d?t=-d:t>c&&(t=c),-s>u?s=-u:s>h&&(s=h),n.style.cssText+=";left:".concat(t+p,"px;top:").concat(s+v,"px;")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}}}};var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal-fade"}},[n("div",{class:["modal-backdrop",e.className]},[n("div",{staticClass:"modal",style:e.modalStyle},[n("header",{staticClass:"modal-header",class:{"modal-margin":1===e.modalStatus},attrs:{id:"modalTitle"}},[n("div",{staticClass:"modal-header-icon"},[n("svg-icon",{directives:[{name:"show",rawName:"v-show",value:1!==e.modalStatus,expression:"modalStatus !== 1"}],staticClass:"modal-icon",attrs:{type:"minus-o"},nativeOn:{click:function(t){return e.min(t)}}}),e._v(" "),n("svg-icon",{staticClass:"modal-icon",attrs:{type:"fullscreen-o"},nativeOn:{click:function(t){return e.max(t)}}}),e._v(" "),n("svg-icon",{staticClass:"modal-icon",attrs:{type:"close-o"},nativeOn:{click:function(t){return e.close(t)}}})],1),e._v(" "),n("div",{staticClass:"modal-header-title"},[e._t("header",[e._v("\n            "+e._s(e.title)+"\n          ")])],2)]),e._v(" "),n("section",{directives:[{name:"show",rawName:"v-show",value:1!==e.modalStatus,expression:"modalStatus !== 1"}],staticClass:"modal-body"},[e._t("default",[e._v("\n          I'm the default body!\n        ")])],2),e._v(" "),n("resizer",{directives:[{name:"show",rawName:"v-show",value:1!==e.modalStatus,expression:"modalStatus !== 1"}],attrs:{"min-width":200,"min-height":100}})],1)])])};r._withStripped=!0;var a=n({render:r,staticRenderFns:[]},void 0,s,"data-v-5390792d",!1,void 0,void 0,void 0),l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c(e,t){return e(t={exports:{}},t.exports),t.exports}var u=d(c((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"close",theme:"outline",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:!1},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]}}}))),h=d(c((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"fullscreen",theme:"outline",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:!1},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 0 0-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0 0 13.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 0 0 0 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 0 0-11.3 0l-42.4 42.3a8.03 8.03 0 0 0 0 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 0 0 4.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 0 0-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 0 0-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]}}}))),f=d(c((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"minus",theme:"outline",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:!1},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]}}}))),m=c((function(e,t){var n=l&&l.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t){var o="svg"===e.tag?n({},e.attrs,t.extraSVGAttrs||{}):e.attrs,s=Object.keys(o).reduce((function(e,t){var n=t+'="'+o[t]+'"';return e.push(n),e}),[]),r=s.length?" "+s.join(" "):"",a=["<"+e.tag+r+">","</"+e.tag+">"],l=(e.children||[]).map((function(e){return i(e,t)})).join("");return""+a[0]+l+a[1]}Object.defineProperty(t,"__esModule",{value:!0}),t.renderIconDefinitionToSVGElement=function(e,t){if(void 0===t&&(t={}),"function"==typeof e.icon){var n=t.placeholders||{};return i(e.icon(n.primaryColor||"#333",n.secondaryColor||"#E6E6E6"),t)}return i(e.icon,t)}}));d(m);var p=m.renderIconDefinitionToSVGElement;function v(e,t){switch(t){case"fill":return e+"-fill";case"outline":return e+"-o";case"twotone":return e+"-twotone";default:throw new TypeError("Unknown theme type: "+t+", name: "+e)}}var g={}; var y={name:"SvgIcon",props:{width:{type:String,default:"1em"},height:{type:String,default:"1em"},type:{type:String,required:!0}},data:function(){return{}},computed:{svgString:function(){var e=g[this.type];return this.type&&e?p(e,{extraSVGAttrs:{width:this.width,height:this.height,fill:"currentColor"}}):""}},add:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){var t=v(e.name,e.theme);g[t]=e}))}};var w=function(){var e=this.$createElement;return(this._self._c||e)("i",{staticClass:"ylz-svg-icon",domProps:{innerHTML:this._s(this.svgString)}})};w._withStripped=!0;var S=n({render:w,staticRenderFns:[]},void 0,y,void 0,!1,void 0,void 0,void 0);return S.install=function(e){e.component(S.name,S)},S.add(f,h,u),e.use(S),a.install=function(e){e.component(a.name,a)},a}));
